# Template for a Bitnami SealedSecret that creates the 'sharepoint-credentials' Secret
# NOTE: You must generate 'encryptedData' for YOUR cluster using kubeseal and the controller's public key.
# This file is only a scaffold; do not apply as-is.

apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: sharepoint-credentials
  namespace: default
spec:
  template:
    metadata:
      name: sharepoint-credentials
      namespace: default
    type: Opaque
  encryptedData:
    DSXCONNECTOR_SP_TENANT_ID: <sealed-blob>
    DSXCONNECTOR_SP_CLIENT_ID: <sealed-blob>
    DSXCONNECTOR_SP_CLIENT_SECRET: <sealed-blob>

---
# How to generate sealed values (example):
# 1) Create a local Secret manifest (not applied):
#
# apiVersion: v1
# kind: Secret
# metadata:
#   name: sharepoint-credentials
#   namespace: default
# type: Opaque
# stringData:
#   DSXCONNECTOR_SP_TENANT_ID: "<tenant>"
#   DSXCONNECTOR_SP_CLIENT_ID: "<client-id>"
#   DSXCONNECTOR_SP_CLIENT_SECRET: "<client-secret>"
#
# 2) Seal it using kubeseal (ensure your kube context points to the cluster with SealedSecrets controller):
#
# kubeseal --format=yaml < secret.yaml > connectors/sharepoint/deploy/helm/examples/sealedsecret.yaml
#
# 3) Apply the generated sealedsecret.yaml:
#
# kubectl apply -f connectors/sharepoint/deploy/helm/examples/sealedsecret.yaml

